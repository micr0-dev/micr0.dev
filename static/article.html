<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="stylesheet" href="style.css">
</head>

<svg style="display: none">
    <defs>
        <symbol id="lock-icon" viewBox="0 0 330 330">
            <path xmlns="http://www.w3.org/2000/svg" id="XMLID_505_"
                d="M65,330h200c8.284,0,15-6.716,15-15V145c0-8.284-6.716-15-15-15h-15V85c0-46.869-38.131-85-85-85   S80,38.131,80,85v45H65c-8.284,0-15,6.716-15,15v170C50,323.284,56.716,330,65,330z M207.481,219.356l-42.5,42.5   c-2.929,2.929-6.768,4.394-10.606,4.394s-7.678-1.465-10.606-4.394l-21.25-21.25c-5.858-5.858-5.858-15.354,0-21.213   c5.857-5.858,15.355-5.858,21.213,0l10.644,10.643l31.894-31.893c5.857-5.858,15.355-5.858,21.213,0   C213.34,204.002,213.34,213.498,207.481,219.356z M110,85c0-30.327,24.673-55,55-55s55,24.673,55,55v45H110V85z" />
        </symbol>
        <symbol id="unlock-icon" viewBox="0 0 330 330">
            <path xmlns="http://www.w3.org/2000/svg" id="XMLID_517_"
                d="M15,160c8.284,0,15-6.716,15-15V85c0-30.327,24.673-55,55-55c30.327,0,55,24.673,55,55v45h-25   c-8.284,0-15,6.716-15,15v170c0,8.284,6.716,15,15,15h200c8.284,0,15-6.716,15-15V145c0-8.284-6.716-15-15-15H170V85   c0-46.869-38.131-85-85-85S0,38.131,0,85v60C0,153.284,6.716,160,15,160z" />
        </symbol>
        <symbol id="share-icon" viewBox="0 0 458.624 458.624">
            <path xmlns="http://www.w3.org/2000/svg"
                d="M339.588,314.529c-14.215,0-27.456,4.133-38.621,11.239l-112.682-78.67c1.809-6.315,2.798-12.976,2.798-19.871    c0-6.896-0.989-13.557-2.798-19.871l109.64-76.547c11.764,8.356,26.133,13.286,41.662,13.286c39.79,0,72.047-32.257,72.047-72.047    C411.634,32.258,379.378,0,339.588,0c-39.79,0-72.047,32.257-72.047,72.047c0,5.255,0.578,10.373,1.646,15.308l-112.424,78.491    c-10.974-6.759-23.892-10.666-37.727-10.666c-39.79,0-72.047,32.257-72.047,72.047s32.256,72.047,72.047,72.047    c13.834,0,26.753-3.907,37.727-10.666l113.292,79.097c-1.629,6.017-2.514,12.34-2.514,18.872c0,39.79,32.257,72.047,72.047,72.047    c39.79,0,72.047-32.257,72.047-72.047C411.635,346.787,379.378,314.529,339.588,314.529z" />
        </symbol>
    </defs>
</svg>

<body>
    <canvas id="magneticCanvas"></canvas>

    <div id="feed-container" class="standalone"></div>
    </div>

    <!-- FIXME: Whole thing as button -->
    <div id="go-home-container" class="textbox">
        <a href="/" id="go-home-link">go home!~</a>
    </div>

    <script type="module" src="posts.js"></script>
    <script src="background.js"></script>

    <div id="ssl-indicator">
        <span id="ssl-icon"></span>
        <span id="ssl-text"></span>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const sslIndicator = document.getElementById('ssl-indicator');
            const sslIcon = document.getElementById('ssl-icon');
            const sslText = document.getElementById('ssl-text');

            if (window.location.protocol === 'https:') {
                sslText.textContent = 'Secure';
                sslIndicator.classList.add('ssl-secure');
                sslIcon.innerHTML = '<svg><use href="#lock-icon"></use></svg>';
            } else {
                sslText.textContent = 'Insecure';
                sslIndicator.classList.add('ssl-insecure');
                sslIcon.innerHTML = '<svg><use href="#unlock-icon"></use></svg>';
            }
        });
    </script>

</body>